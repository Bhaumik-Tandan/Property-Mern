(this.webpackJsonpproperty=this.webpackJsonpproperty||[]).push([[0],{48:function(e,t,r){},49:function(e,t,r){},50:function(e,t,r){},51:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r.n(c),j=r(18),a=r.n(j),s=r(7),i=r(1),b=n.a.createContext();function o(){return Object(c.useContext)(b)}var u=n.a.createContext();var d=function(e){var t=e.children,r=Object(c.useState)(0),n=Object(s.a)(r,2),j=n[0],a=n[1];return Object(i.jsx)(u.Provider,{value:function(e){a(e)},children:Object(i.jsx)(b.Provider,{value:j,children:t})})},O=r(73),x=r(72);var l=function(){var e=Object(c.useContext)(u),t=o();return Object(i.jsx)("div",{children:Object(i.jsx)(O.a,{style:{backgroundColor:"#9cd598",color:"#10230e",fontSize:"2vw"},centered:!0,children:Object(i.jsxs)("center",{children:[Object(i.jsx)(x.a,{label:"View",onClick:function(){return e(0)},style:0==t?{backgroundColor:"#58b851"}:{}}),Object(i.jsx)(x.a,{label:"Add",onClick:function(){return e(1)},style:1==t?{backgroundColor:"#58b851"}:{}})]})})})},h=r(4),v=r.n(h),p=r(5),f=r(8),y=r(32);function C(e,t,r){return e=JSON.stringify(e),fetch("https://property-bhaumik-tandan.herokuapp.com/"+r,{method:t,body:e,headers:{"Content-Type":"application/json"}})}var m=r(31),P=r.n(m);r(48);var g=function(e){return Object(i.jsxs)("div",{className:"loading",children:[Object(i.jsx)(P.a,{type:"spokes",color:"red"}),Object(i.jsx)("div",{children:e.text})]})};r(49);var k=function(){var e=Object(y.a)(),t=e.register,r=e.handleSubmit,n=Object(c.useState)(),j=Object(s.a)(n,2),a=j[0],b=j[1],o=Object(c.useState)(!1),u=Object(s.a)(o,2),d=u[0],O=u[1];function x(){return(x=Object(f.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,C(t,"POST","property");case 3:400==e.sent.status?b("Property Id already exists"):b("Property added"),O(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.jsx)("div",{children:d?Object(i.jsx)(g,{text:"Submitting"}):Object(i.jsxs)("center",{children:[" ",Object(i.jsx)("h1",{children:"Add Property"}),Object(i.jsxs)("form",{onSubmit:r((function(e){return x.apply(this,arguments)})),children:[Object(i.jsx)("label",{children:"Property ID"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",Object(p.a)({type:"number"},t("productId",{required:!0}))),Object(i.jsx)("br",{}),Object(i.jsx)("label",{children:"Name"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",Object(p.a)({},t("name",{required:!0}))),Object(i.jsx)("br",{}),Object(i.jsx)("label",{children:"Cost"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",Object(p.a)(Object(p.a)({type:"number"},t("cost",{required:!0})),{},{placeholder:"In $"})),Object(i.jsx)("br",{}),Object(i.jsx)("label",{children:"Address"}),Object(i.jsx)("br",{}),Object(i.jsx)("textarea",Object(p.a)({rows:"4"},t("address",{required:!0}))),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{children:"City"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",Object(p.a)({},t("city",{required:!0}))),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"submit"}),Object(i.jsx)("br",{}),a]})]})})},S=n.a.createContext(),w=n.a.createContext(),I=n.a.createContext();function E(){return Object(c.useContext)(S)}function N(){return Object(c.useContext)(I)}var T=n.a.createContext(),q=n.a.createContext(),A=n.a.createContext();function D(){return Object(c.useContext)(A)}var J=function(e){var t=e.children,r=Object(c.useState)(),n=Object(s.a)(r,2),j=n[0],a=n[1],b=Object(c.useState)("0"),o=Object(s.a)(b,2),u=o[0],d=o[1],O=Object(c.useState)(1),x=Object(s.a)(O,2),l=x[0],h=x[1];return Object(i.jsx)(A.Provider,{value:h,children:Object(i.jsx)(I.Provider,{value:l,children:Object(i.jsx)(q.Provider,{value:function(e){d(e)},children:Object(i.jsx)(w.Provider,{value:u,children:Object(i.jsx)(T.Provider,{value:function(e){a(e)},children:Object(i.jsx)(S.Provider,{value:j,children:t})})})})})})},B=n.a.createContext();var L=n.a.createContext();function M(){return Object(c.useContext)(L)}var $=function(e){var t=e.children,r=Object(c.useState)(0),n=Object(s.a)(r,2),j=n[0],a=n[1];return Object(i.jsx)(L.Provider,{value:function(e){a(e)},children:Object(i.jsx)(B.Provider,{value:j,children:t})})};var z=function(){var e=E(),t=Object(c.useContext)(q),r=M();return Object(i.jsxs)("div",{children:[Object(i.jsx)("br",{}),Object(i.jsxs)("center",{children:[" ",Object(i.jsxs)("select",{onChange:function(e){t(e.target.value),r(0)},children:[Object(i.jsx)("option",{value:"0",children:"Choose Post"}),Object.keys(e).map((function(e){return Object(i.jsx)("option",{value:e,children:e},e)}))]})]})]})},G=r(74);var U=function(e){var t=D();function r(){return(r=Object(f.a)(v.a.mark((function r(){return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t(0),C(void 0,"DELETE","property/"+e.id),t(1);case 3:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return Object(i.jsx)("button",{onClick:function(){return r.apply(this,arguments)},children:"Delete"})};var V=function(e){return Object(i.jsx)("div",{children:Object(i.jsx)(G.a,{style:{width:"18rem"},children:Object(i.jsxs)(G.a.Body,{children:[Object(i.jsx)(G.a.Title,{children:e.data.name}),Object(i.jsx)(G.a.Subtitle,{className:"mb-2 text-muted",children:e.data.address}),Object(i.jsxs)(G.a.Text,{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Cost: "}),"$",e.data.cost]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Unique ID: "}),e.data.productId]})]}),Object(i.jsx)(G.a.Text,{children:Object(i.jsx)(U,{id:e.data.productId})})]})})})};var F=function(e){var t=M();return Object(i.jsx)("div",{children:e.pageArr.map((function(e,r){return Object(i.jsx)("button",{onClick:function(e){e.preventDefault(),t(r)},children:r+1},e)}))})};r(50);var H=function(e){for(var t=Object(c.useContext)(B),r=e.data.slice(6*t,6*(t+1)),n=[],j=Math.ceil(e.data.length/6),a=0;a<j;a++)n.push(a);return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"grid-container",children:r.map((function(e,t){return Object(i.jsx)(V,{className:"grid-item",data:e},t)}))}),Object(i.jsx)(F,{pageArr:n})]})};var K=function(){var e=Object(c.useContext)(w),t=E();return Object(i.jsxs)("div",{children:[Object(i.jsx)("br",{}),Object(i.jsxs)("center",{children:[" ","0"==e?"":Object(i.jsx)(H,{data:t[e]})]})]})};var Q=function(){var e=N(),t=D(),r=Object(c.useContext)(T);return Object(c.useEffect)((function(){function e(e){var t={};e.forEach((function(e){var r={productId:e.productId,name:e.name,cost:e.cost,address:e.address};t.hasOwnProperty(e.city)?t[e.city].push(r):t[e.city]=[r]})),r(t)}function c(){return(c=Object(f.a)(v.a.mark((function r(){var c;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,C(void 0,"GET","property");case 2:return c=r.sent,r.next=5,c.json();case 5:e(r.sent),t(0);case 8:case"end":return r.stop()}}),r)})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()}),[N()]),Object(i.jsx)("div",{children:e?Object(i.jsx)(g,{text:"Loading Properties"}):Object(i.jsxs)($,{children:[Object(i.jsx)(z,{}),Object(i.jsx)(K,{})]})})};var R=function(){var e=o();return Object(i.jsx)("div",{children:0==e?Object(i.jsx)(J,{children:Object(i.jsx)(Q,{})}):Object(i.jsx)(k,{})})};var W=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsxs)(d,{children:[Object(i.jsx)(l,{}),Object(i.jsx)(R,{})]})})};a.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(W,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.ade4aad3.chunk.js.map